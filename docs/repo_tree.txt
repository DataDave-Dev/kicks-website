ÃRBOL COMPLETO DEL REPOSITORIO - KICK'S WEB
============================================
Generado: 2025-11-15
UbicaciÃ³n: C:\Users\SISTEMAS\proyectos\kick's-web
Tipo: E-commerce de Zapatillas Deportivas
Stack: Astro 5.7.13 + Supabase + Vercel

============================================
ESTRUCTURA DE DIRECTORIOS
============================================

kick's-web/
â”‚
â”œâ”€â”€ .astro/                          # Archivos generados por Astro (desarrollo)
â”‚   â”œâ”€â”€ collections/
â”‚   â”œâ”€â”€ content.d.ts
â”‚   â”œâ”€â”€ content-assets.mjs
â”‚   â”œâ”€â”€ content-modules.mjs
â”‚   â”œâ”€â”€ data-store.json
â”‚   â”œâ”€â”€ settings.json
â”‚   â””â”€â”€ types.d.ts
â”‚
â”œâ”€â”€ .claude/                         # ConfiguraciÃ³n de Claude Code
â”‚   â””â”€â”€ settings.local.json
â”‚
â”œâ”€â”€ .git/                            # Control de versiones Git
â”‚   â””â”€â”€ [archivos de control de versiones]
â”‚
â”œâ”€â”€ .vercel/                         # Build output de Vercel
â”‚   â””â”€â”€ output/
â”‚       â”œâ”€â”€ _functions/              # Serverless functions
â”‚       â”œâ”€â”€ functions/               # Edge functions
â”‚       â”œâ”€â”€ server/                  # Servidor SSR
â”‚       â””â”€â”€ static/                  # Archivos estÃ¡ticos
â”‚
â”œâ”€â”€ .vscode/                         # ConfiguraciÃ³n de Visual Studio Code
â”‚   â”œâ”€â”€ extensions.json              # Extensiones recomendadas
â”‚   â””â”€â”€ launch.json                  # ConfiguraciÃ³n de debug
â”‚
â”œâ”€â”€ dist/                            # Build de producciÃ³n
â”‚   â”œâ”€â”€ client/
â”‚   â”‚   â”œâ”€â”€ _astro/                  # Assets compilados
â”‚   â”‚   â”‚   â”œâ”€â”€ UserDrop.astro_astro_type_script_index_0_lang.C1HSyEJt.js
â”‚   â”‚   â”‚   â”œâ”€â”€ pay.astro_astro_type_script_index_0_lang.BGyl6oa-.js
â”‚   â”‚   â”‚   â”œâ”€â”€ lenis.DvU-RmHH.js
â”‚   â”‚   â”‚   â”œâ”€â”€ index.C7nC7rGg.js
â”‚   â”‚   â”‚   â”œâ”€â”€ AboutUs.astro_astro_type_script_index_0_lang.YPxE7Hua.js
â”‚   â”‚   â”‚   â”œâ”€â”€ cart.astro_astro_type_script_index_0_lang.vc0cTwg6.js
â”‚   â”‚   â”‚   â””â”€â”€ ScrollTrigger.B1GGtPrJ.js
â”‚   â”‚   â””â”€â”€ [mÃ¡s archivos compilados]
â”‚   â””â”€â”€ server/                      # Servidor compilado
â”‚
â”œâ”€â”€ node_modules/                    # Dependencias npm (21,000+ archivos)
â”‚   â”œâ”€â”€ @astrojs/
â”‚   â”œâ”€â”€ @supabase/
â”‚   â”œâ”€â”€ @vercel/
â”‚   â”œâ”€â”€ tailwindcss/
â”‚   â”œâ”€â”€ gsap/
â”‚   â”œâ”€â”€ sharp/
â”‚   â”œâ”€â”€ nodemailer/
â”‚   â””â”€â”€ [mÃ¡s paquetes...]
â”‚
â”œâ”€â”€ public/                          # Archivos pÃºblicos estÃ¡ticos
â”‚   â””â”€â”€ favicon.ico                  # Icono del sitio
â”‚
â”œâ”€â”€ src/                             # ğŸ¯ CÃ“DIGO FUENTE PRINCIPAL
â”‚   â”‚
â”‚   â”œâ”€â”€ assets/                      # Recursos multimedia
â”‚   â”‚   â””â”€â”€ test.jpg                 # Imagen de prueba
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                  # Componentes Astro reutilizables (9 archivos)
â”‚   â”‚   â”œâ”€â”€ Modal/                   # Componentes modales
â”‚   â”‚   â”‚   â”œâ”€â”€ CardModal.astro      # Modal de tarjeta de crÃ©dito
â”‚   â”‚   â”‚   â””â”€â”€ ImageUpload.astro    # Modal de carga de imÃ¡genes
â”‚   â”‚   â”œâ”€â”€ AboutUs.astro            # SecciÃ³n "Sobre Nosotros"
â”‚   â”‚   â”œâ”€â”€ Footer.astro             # Pie de pÃ¡gina
â”‚   â”‚   â”œâ”€â”€ Header.astro             # Encabezado y navegaciÃ³n
â”‚   â”‚   â”œâ”€â”€ Hero.astro               # SecciÃ³n hero de pÃ¡gina principal
â”‚   â”‚   â”œâ”€â”€ ProductCard.astro        # Tarjeta de producto
â”‚   â”‚   â”œâ”€â”€ SectionContainer.astro   # Contenedor de secciones
â”‚   â”‚   â””â”€â”€ UserDrop.astro           # Dropdown de usuario
â”‚   â”‚
â”‚   â”œâ”€â”€ layouts/                     # Layouts de pÃ¡gina
â”‚   â”‚   â””â”€â”€ Layout.astro             # Layout principal (HTML base)
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                         # LibrerÃ­as y utilidades
â”‚   â”‚   â”œâ”€â”€ supabase.ts              # Cliente de Supabase configurado
â”‚   â”‚   â””â”€â”€ utils.ts                 # Funciones auxiliares (validaciones)
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/                       # PÃ¡ginas y API routes (19 archivos)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ api/                     # API Endpoints serverless (9 archivos)
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/                # AutenticaciÃ³n (3 endpoints)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ register.ts      # POST - Registro de usuarios
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ signin.ts        # POST - Inicio de sesiÃ³n
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ signout.ts       # GET  - Cierre de sesiÃ³n
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ scripts/             # Scripts de negocio (1 endpoint)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ order.ts         # POST - Crear pedido
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ user/                # GestiÃ³n de usuario (5 endpoints)
â”‚   â”‚   â”‚       â”œâ”€â”€ updateAddress.ts      # POST - Actualizar direcciÃ³n
â”‚   â”‚   â”‚       â”œâ”€â”€ updatePassword.ts     # POST - Cambiar contraseÃ±a
â”‚   â”‚   â”‚       â”œâ”€â”€ updatePreferences.ts  # POST - Actualizar preferencias
â”‚   â”‚   â”‚       â”œâ”€â”€ updateUser.ts         # POST - Actualizar perfil
â”‚   â”‚   â”‚       â””â”€â”€ uploadAvatar.ts       # POST - Subir avatar
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ cart.astro               # Carrito de compras
â”‚   â”‚   â”œâ”€â”€ contact.astro            # PÃ¡gina de contacto
â”‚   â”‚   â”œâ”€â”€ index.astro              # PÃ¡gina principal (home)
â”‚   â”‚   â”œâ”€â”€ orders.astro             # Historial de pedidos
â”‚   â”‚   â”œâ”€â”€ pay.astro                # PÃ¡gina de pago/checkout
â”‚   â”‚   â”œâ”€â”€ register.astro           # PÃ¡gina de registro
â”‚   â”‚   â”œâ”€â”€ settings.astro           # ConfiguraciÃ³n de cuenta
â”‚   â”‚   â”œâ”€â”€ shop.astro               # CatÃ¡logo de productos
â”‚   â”‚   â”œâ”€â”€ signin.astro             # PÃ¡gina de inicio de sesiÃ³n
â”‚   â”‚   â””â”€â”€ terms.astro              # TÃ©rminos y condiciones
â”‚   â”‚
â”‚   â”œâ”€â”€ scripts/                     # Scripts del cliente (5 archivos)
â”‚   â”‚   â”œâ”€â”€ about/
â”‚   â”‚   â”‚   â””â”€â”€ animations.js        # Animaciones GSAP para "Sobre Nosotros"
â”‚   â”‚   â”œâ”€â”€ cart/
â”‚   â”‚   â”‚   â””â”€â”€ cart.js              # LÃ³gica del carrito de compras
â”‚   â”‚   â”œâ”€â”€ payments/
â”‚   â”‚   â”‚   â””â”€â”€ pay.js               # Procesamiento de pagos
â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â””â”€â”€ filters.js           # Filtros de productos
â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚       â””â”€â”€ settingsUser.js      # GestiÃ³n de configuraciÃ³n de usuario
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/                      # Estilos globales
â”‚   â”‚   â””â”€â”€ global.css               # CSS global (Tailwind + custom)
â”‚   â”‚
â”‚   â””â”€â”€ env.d.ts                     # Definiciones de tipos TypeScript
â”‚
â”œâ”€â”€ .env                             # âš ï¸ Variables de entorno (NO COMMITEAR)
â”œâ”€â”€ .gitignore                       # Archivos ignorados por Git
â”œâ”€â”€ astro.config.mjs                 # ConfiguraciÃ³n de Astro
â”œâ”€â”€ package.json                     # Dependencias y scripts npm
â”œâ”€â”€ package-lock.json                # Lock de versiones npm
â”œâ”€â”€ README.md                        # DocumentaciÃ³n del proyecto
â””â”€â”€ tsconfig.json                    # ConfiguraciÃ³n de TypeScript

============================================
ESTADÃSTICAS DEL PROYECTO
============================================

ğŸ“ Total de directorios principales:    8
ğŸ“„ Archivos de cÃ³digo fuente (src/):    39

Desglose por tipo:
  - Componentes Astro (.astro):        20 archivos
  - TypeScript (.ts):                  12 archivos
  - JavaScript (.js):                   5 archivos
  - CSS (.css):                         1 archivo
  - ImÃ¡genes (.jpg):                    1 archivo

ğŸŒ PÃ¡ginas pÃºblicas:                   10 pÃ¡ginas
  1. index.astro          (PÃ¡gina principal)
  2. shop.astro           (CatÃ¡logo de productos)
  3. cart.astro           (Carrito de compras)
  4. pay.astro            (Checkout/Pago)
  5. orders.astro         (Historial de pedidos)
  6. settings.astro       (ConfiguraciÃ³n de cuenta)
  7. signin.astro         (Inicio de sesiÃ³n)
  8. register.astro       (Registro)
  9. contact.astro        (Contacto)
  10. terms.astro         (TÃ©rminos y condiciones)

ğŸ”Œ API Endpoints:                       9 endpoints

  AutenticaciÃ³n (3):
    POST   /api/auth/register          Registro de nuevos usuarios
    POST   /api/auth/signin            Inicio de sesiÃ³n
    GET    /api/auth/signout           Cierre de sesiÃ³n

  GestiÃ³n de Usuario (5):
    POST   /api/user/updateAddress     Actualizar direcciÃ³n de envÃ­o
    POST   /api/user/updatePassword    Cambiar contraseÃ±a
    POST   /api/user/updatePreferences Actualizar preferencias de notificaciones
    POST   /api/user/updateUser        Actualizar datos personales
    POST   /api/user/uploadAvatar      Subir imagen de perfil

  Pedidos (1):
    POST   /api/scripts/order          Crear nuevo pedido

============================================
TECNOLOGÃAS Y DEPENDENCIAS
============================================

Framework Principal:
  - Astro 5.7.13 (SSR habilitado)
  - Adapter: @astrojs/vercel (Serverless)

Backend y Base de Datos:
  - Supabase (PostgreSQL + Auth + Storage)
  - @supabase/supabase-js 2.49.4
  - @supabase/ssr 0.6.1

Estilos y UI:
  - Tailwind CSS 4.1.6
  - Flowbite 3.1.2

Animaciones:
  - GSAP 3.13.0
  - Lenis 1.3.3 (Smooth scrolling)
  - @studio-freight/lenis 1.0.42

Storage y Media:
  - Vercel Blob 1.0.2 (almacenamiento de avatares)
  - Sharp 0.34.2 (procesamiento de imÃ¡genes)

Email:
  - Nodemailer 7.0.3

Monitoreo:
  - @vercel/analytics 1.5.0

============================================
ARCHIVOS DE CONFIGURACIÃ“N
============================================

ğŸ“‹ astro.config.mjs
  - Output: "server" (SSR)
  - Adapter: Vercel
  - Plugins: Tailwind CSS Vite
  - Optimizaciones: GSAP, ScrollTrigger, Lenis

ğŸ“‹ tsconfig.json
  - Extends: astro/tsconfigs/strict
  - Includes: src/**/*
  - Excludes: dist/

ğŸ“‹ package.json
  - Name: kick-s-web
  - Version: 0.0.1
  - Type: module
  - Scripts:
    * dev     - Servidor de desarrollo
    * build   - Build de producciÃ³n
    * preview - Preview del build

ğŸ“‹ .gitignore
  - node_modules/
  - dist/
  - .env
  - .astro/
  - .vercel/

ğŸ“‹ .env (Variables de entorno)
  - SUPABASE_URL
  - SUPABASE_ANON_KEY
  - BLOB_READ_WRITE_TOKEN

============================================
ESTRUCTURA DE BASE DE DATOS (SUPABASE)
============================================

Tablas identificadas:
  1. auth.users                (Usuarios - tabla de Supabase Auth)
  2. Productos                 (CatÃ¡logo de productos)
  3. Direcciones               (Direcciones de usuarios)
  4. PreferenciasUsuarios      (Preferencias y cookies)
  5. Pedidos                   (Encabezados de pedidos)
  6. PedidosDetalles           (Detalle de productos por pedido)
  7. Consecutivos              (NumeraciÃ³n automÃ¡tica)

Vistas:
  - vw_orders                  (Vista desnormalizada de pedidos)

============================================
FLUJO DE DEPLOYMENT
============================================

Desarrollo Local:
  1. npm install
  2. Configurar variables de entorno en .env
  3. npm run dev (puerto 4321)

Build de ProducciÃ³n:
  1. npm run build
  2. Output en ./dist/
  3. Vercel deploy automÃ¡tico desde Git

Hosting:
  - Plataforma: Vercel
  - Modo: Serverless (Edge Functions)
  - CDN: Vercel Edge Network
  - Base de Datos: Supabase Cloud

============================================
NOTAS IMPORTANTES
============================================

âš ï¸ SEGURIDAD:
  - El archivo .env NO debe commitearse a Git
  - Las credenciales actuales deben rotarse
  - Implementar RLS (Row Level Security) en Supabase

ğŸ“Œ MEJORAS PENDIENTES:
  - Implementar tests (0% cobertura actual)
  - Agregar rate limiting en API endpoints
  - Corregir vulnerabilidades de dependencias
  - Implementar validaciÃ³n backend robusta

ğŸ“š DOCUMENTACIÃ“N:
  - README.md existe pero requiere expansiÃ³n
  - No hay documentaciÃ³n de API
  - No hay comentarios JSDoc

============================================
FIN DEL ÃRBOL DEL REPOSITORIO
============================================
